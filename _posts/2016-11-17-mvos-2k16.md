---
layout: post
title:  "Разбор задач муниципального этапа ВсОШ 2016/2017"
date:   2016-11-17
categories: [tutorial, vos]
tags: [vos]
author: Alexander Kuvaev
---

Ниже приводится разбор муниципального этапа Всероссийской олимпиады школьников по информатике 2016/2017 с примерами реализации.
<!-- more -->

## Клетчатые прямоугольники

![](/assets/mvos-2k16-1.png)
Художник-супрематист решил закрасить клетчатый прямоугольник.
Вначале он закрасил клетки по периметру в один ряд.
Подсчитал количество закрашенных клеток, их оказалось $$4 \leq N \leq 100$$.
Какое максимальное количество клеток ему может потребоваться закрасить?

### Решение

Классическая задача нахождения максимальной площади по заданному периметру.
Достаточно было заметить, что количество закрашенных клеток в точности равно периметру искомого прямоугольника плюс четыре угловых клетки.
Разберём решение этой задачи, пусть $$a, b$$ - стороны искомого прямоугольника, тогда его периметр $$P = N-4$$ также будет равен $$2\cdot a + 2\cdot b$$, а площадь $$S = a\cdot b$$.

Выражаем $$b = \frac{P~-~2\cdot a}{2}$$, тогда $$S = \frac{P\cdot a}{2} - a^2$$.
Рассмотрим площадь, как функцию от одной переменной $$a$$, необходимо найти её наибольшее значение. 
Для этого заметим, что $$S(a)$$ - парабола с ветвями, направленными вниз, следовательно она принимает своё наибольшее значение в вершине $$\left(\frac{P}{4}, \frac{P^2}{16}\right)$$.

### Реализация

{% highlight cpp %}
int N;
cin >> N;
N -= 4;
cout << N*N/16;
{% endhighlight %}

### Корректность

Покажем, что $$S = \left[\frac{P^2}{16}\right]$$.

Пусть $$a = \left[\frac{P}{4}\right]$$, тогда $$b = \left[\frac{P~-~2\cdot\left[\frac{P}{4}\right]}{2}\right]$$ и $$S = \left[\frac{P}{4}\right]\cdot\left(\frac{P}{2} - \left[\frac{P}{4}\right]\right)$$.

Тогда $$S = \left[\frac{P}{4}\right]\cdot\left(\frac{P}{2} - \left[\frac{P}{4}\right]\right) \leq \frac{P}{4}\cdot\left(\frac{P}{2} - \frac{P}{4}\right) = \frac{P^2}{16}$$.

В то же время $$S = \left[\frac{P}{4}\right]\cdot\left(\frac{P}{2} - \left[\frac{P}{4}\right]\right) \geq \left(\frac{P}{4} - 1\right)\cdot\left(\frac{P}{2} - \frac{P}{4} + 1\right) = \left(\frac{P}{4} - 1\right)\cdot\left(\frac{P}{4} + 1\right) = \frac{P^2}{16} - 1$$.

Получаем $$\frac{P^2}{16} - 1 \leq S \leq \frac{P^2}{16}$$, что и требовалось доказать.
